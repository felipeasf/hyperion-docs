{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Hyperion History API Scalable Full History API Solution for EOSIO based blockchains Made with \u2665 by EOS Rio Introducing an storage-optimized action format for EOSIO The original history_plugin bundled with eosio, that provided the v1 api, stored inline action traces nested inside their root actions. This led to an excessive amount of data being stored and also transferred whenever a user requested the action history for a given account. Also inline actions are used as a \"event\" mechanism to notify parties on a transaction. Based on those Hyperion implements some changes actions are stored in a flattened format a parent field is added to the inline actions to point to the parent global sequence if the inline action data is identical to the parent it is considered a notification and thus removed from the database no blocks or transaction data is stored, all information can be reconstructed from actions With those changes the API format focus on delivering faster search times, lower bandwidth overhead and easier usability for UI/UX developers.","title":"Home"},{"location":"#hyperion-history-api","text":"Scalable Full History API Solution for EOSIO based blockchains Made with \u2665 by EOS Rio","title":"Hyperion History API"},{"location":"#introducing-an-storage-optimized-action-format-for-eosio","text":"The original history_plugin bundled with eosio, that provided the v1 api, stored inline action traces nested inside their root actions. This led to an excessive amount of data being stored and also transferred whenever a user requested the action history for a given account. Also inline actions are used as a \"event\" mechanism to notify parties on a transaction. Based on those Hyperion implements some changes actions are stored in a flattened format a parent field is added to the inline actions to point to the parent global sequence if the inline action data is identical to the parent it is considered a notification and thus removed from the database no blocks or transaction data is stored, all information can be reconstructed from actions With those changes the API format focus on delivering faster search times, lower bandwidth overhead and easier usability for UI/UX developers.","title":"Introducing an storage-optimized action format for EOSIO"},{"location":"api/","text":"API Reference /v1/history/get_actions POST Summary: get actions Description: legacy get actions query Responses Code Description 200 Example curl -X POST https://eos.hyperion.eosrio.io/v1/history/get_actions /v1/history/get_controlled_accounts POST Summary: get controlled accounts by controlling accounts Description: get controlled accounts by controlling accounts Responses Code Description 200 /v1/history/get_key_accounts POST Summary: get accounts by public key Description: get accounts by public key Responses Example curl -X POST https://eos.hyperion.eosrio.io/v1/history/get_actions Code Description 200 /v1/history/get_transaction POST Summary: get transaction by id Description: get all actions belonging to the same transaction Responses Code Description 200 Default Response Example curl -X POST https://eos.hyperion.eosrio.io/v1/history/get_transaction /v1/chain/get_block POST Summary: Returns an object containing various details about a specific block on the blockchain. Description: Returns an object containing various details about a specific block on the blockchain. Responses Code Description 200 Default Response Example curl -X POST https://api.eossweden.org/v1/chain/get_block -d '{ block_num_or_id : 1000 }' /v2/history/get_abi_snapshot GET Summary: fetch abi at specific block Description: fetch contract abi at specific block Parameters Name Located in Description Required Schema contract query contract account Yes string block query target block No integer fetch query should fetch the ABI No boolean Responses Code Description 200 Default Response /v2/history/get_actions GET Summary: get root actions Description: get actions based on notified account. this endpoint also accepts generic filters based on indexed fields (e.g. act.authorization.actor=eosio or act.name=delegatebw), if included they will be combined with a AND operator Parameters Name Located in Description Required Schema account query notified account No string track query total results to track (count) [number or true] No string filter query code:name filter No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer sort query sort direction No string after query filter after specified date (ISO8601) No string before query filter before specified date (ISO8601) No string simple query simplified output mode No boolean Responses Code Description 200 /v2/history/get_blocks GET Summary: get block range Description: get block range Parameters Name Located in Description Required Schema from query starting block No integer to query last block No integer Responses Code Description 200 Default Response /v2/history/get_created_accounts GET Summary: get created accounts Description: get all accounts created by one creator Parameters Name Located in Description Required Schema account query creator account No string Responses Code Description 200 /v2/history/get_creator GET Summary: get account creator Description: get account creator Parameters Name Located in Description Required Schema account query created account No string Responses Code Description 200 /v2/history/get_deltas GET Summary: get state deltas Description: get state deltas Parameters Name Located in Description Required Schema code query contract account No string scope query table scope No string table query table name No string payer query payer account No string Responses Code Description 200 Default Response /v2/history/get_transacted_accounts GET Summary: get interactions based on transfers Description: get all account that interacted with the source account provided Parameters Name Located in Description Required Schema account query source account Yes string symbol query token symbol No string contract query token contract No string direction query search direction Yes string min query minimum value No number max query maximum value No number limit query query limit No number after query filter after specified date (ISO8601) or block number No string before query filter before specified date (ISO8601) or block number No string Responses Code Description 200 Default Response /v2/history/get_transaction GET Summary: get transaction by id Description: get all actions belonging to the same transaction Parameters Name Located in Description Required Schema id query transaction id Yes string Responses Code Description 200 Default Response /v2/history/get_transfers GET Summary: get token transfers Description: get token transfers utilizing the eosio.token standard Parameters Name Located in Description Required Schema from query source account No string to query destination account No string symbol query token symbol No string contract query token contract No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer after query filter after specified date (ISO8601) No dateTime before query filter before specified date (ISO8601) No dateTime Responses Code Description 200 /v2/state/get_account GET Summary: get account summary Description: get account data Parameters Name Located in Description Required Schema account query account name No string Responses Code Description 200 Default Response /v2/state/get_key_accounts GET Summary: get accounts by public key Description: get accounts by public key Parameters Name Located in Description Required Schema public_key query public key Yes string Responses Code Description 200 POST Summary: get accounts by public key Description: get accounts by public key Responses Code Description 200 /v2/state/get_proposals GET Summary: get proposals Description: get proposals Parameters Name Located in Description Required Schema proposer query filter by proposer No string proposal query filter by proposal name No string account query filter by either requested or provided account No string requested query filter by requested account No string provided query filter by provided account No string executed query filter by execution status No boolean track query total results to track (count) [number or true] No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer Responses Code Description 200 Default Response /v2/state/get_tokens GET Summary: get tokens from account Description: get tokens from account Parameters Name Located in Description Required Schema account query account Yes string Responses Code Description 200 /v2/state/get_voters GET Summary: get voters Description: get voters Parameters Name Located in Description Required Schema producer query filter by voted producer (comma separated) No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer Responses Code Description 200 Default Response /v2/health GET Summary: API Service Health Report Responses Code Description 200 Default Response /stream-client.js GET Responses Code Description 200 default response","title":"API"},{"location":"api/#api-reference","text":"","title":"API Reference"},{"location":"api/#v1historyget_actions","text":"","title":"/v1/history/get_actions"},{"location":"api/#post","text":"","title":"POST"},{"location":"api/#summary","text":"get actions","title":"Summary:"},{"location":"api/#description","text":"legacy get actions query","title":"Description:"},{"location":"api/#responses","text":"Code Description 200","title":"Responses"},{"location":"api/#example","text":"curl -X POST https://eos.hyperion.eosrio.io/v1/history/get_actions","title":"Example"},{"location":"api/#v1historyget_controlled_accounts","text":"","title":"/v1/history/get_controlled_accounts"},{"location":"api/#post_1","text":"","title":"POST"},{"location":"api/#summary_1","text":"get controlled accounts by controlling accounts","title":"Summary:"},{"location":"api/#description_1","text":"get controlled accounts by controlling accounts","title":"Description:"},{"location":"api/#responses_1","text":"Code Description 200","title":"Responses"},{"location":"api/#v1historyget_key_accounts","text":"","title":"/v1/history/get_key_accounts"},{"location":"api/#post_2","text":"","title":"POST"},{"location":"api/#summary_2","text":"get accounts by public key","title":"Summary:"},{"location":"api/#description_2","text":"get accounts by public key","title":"Description:"},{"location":"api/#responses_2","text":"","title":"Responses"},{"location":"api/#example_1","text":"curl -X POST https://eos.hyperion.eosrio.io/v1/history/get_actions Code Description 200","title":"Example"},{"location":"api/#v1historyget_transaction","text":"","title":"/v1/history/get_transaction"},{"location":"api/#post_3","text":"","title":"POST"},{"location":"api/#summary_3","text":"get transaction by id","title":"Summary:"},{"location":"api/#description_3","text":"get all actions belonging to the same transaction","title":"Description:"},{"location":"api/#responses_3","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#example_2","text":"curl -X POST https://eos.hyperion.eosrio.io/v1/history/get_transaction","title":"Example"},{"location":"api/#v1chainget_block","text":"","title":"/v1/chain/get_block"},{"location":"api/#post_4","text":"","title":"POST"},{"location":"api/#summary_4","text":"Returns an object containing various details about a specific block on the blockchain.","title":"Summary:"},{"location":"api/#description_4","text":"Returns an object containing various details about a specific block on the blockchain.","title":"Description:"},{"location":"api/#responses_4","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#example_3","text":"curl -X POST https://api.eossweden.org/v1/chain/get_block -d '{ block_num_or_id : 1000 }'","title":"Example"},{"location":"api/#v2historyget_abi_snapshot","text":"","title":"/v2/history/get_abi_snapshot"},{"location":"api/#get","text":"","title":"GET"},{"location":"api/#summary_5","text":"fetch abi at specific block","title":"Summary:"},{"location":"api/#description_5","text":"fetch contract abi at specific block","title":"Description:"},{"location":"api/#parameters","text":"Name Located in Description Required Schema contract query contract account Yes string block query target block No integer fetch query should fetch the ABI No boolean","title":"Parameters"},{"location":"api/#responses_5","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#v2historyget_actions","text":"","title":"/v2/history/get_actions"},{"location":"api/#get_1","text":"","title":"GET"},{"location":"api/#summary_6","text":"get root actions","title":"Summary:"},{"location":"api/#description_6","text":"get actions based on notified account. this endpoint also accepts generic filters based on indexed fields (e.g. act.authorization.actor=eosio or act.name=delegatebw), if included they will be combined with a AND operator","title":"Description:"},{"location":"api/#parameters_1","text":"Name Located in Description Required Schema account query notified account No string track query total results to track (count) [number or true] No string filter query code:name filter No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer sort query sort direction No string after query filter after specified date (ISO8601) No string before query filter before specified date (ISO8601) No string simple query simplified output mode No boolean","title":"Parameters"},{"location":"api/#responses_6","text":"Code Description 200","title":"Responses"},{"location":"api/#v2historyget_blocks","text":"","title":"/v2/history/get_blocks"},{"location":"api/#get_2","text":"","title":"GET"},{"location":"api/#summary_7","text":"get block range","title":"Summary:"},{"location":"api/#description_7","text":"get block range","title":"Description:"},{"location":"api/#parameters_2","text":"Name Located in Description Required Schema from query starting block No integer to query last block No integer","title":"Parameters"},{"location":"api/#responses_7","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#v2historyget_created_accounts","text":"","title":"/v2/history/get_created_accounts"},{"location":"api/#get_3","text":"","title":"GET"},{"location":"api/#summary_8","text":"get created accounts","title":"Summary:"},{"location":"api/#description_8","text":"get all accounts created by one creator","title":"Description:"},{"location":"api/#parameters_3","text":"Name Located in Description Required Schema account query creator account No string","title":"Parameters"},{"location":"api/#responses_8","text":"Code Description 200","title":"Responses"},{"location":"api/#v2historyget_creator","text":"","title":"/v2/history/get_creator"},{"location":"api/#get_4","text":"","title":"GET"},{"location":"api/#summary_9","text":"get account creator","title":"Summary:"},{"location":"api/#description_9","text":"get account creator","title":"Description:"},{"location":"api/#parameters_4","text":"Name Located in Description Required Schema account query created account No string","title":"Parameters"},{"location":"api/#responses_9","text":"Code Description 200","title":"Responses"},{"location":"api/#v2historyget_deltas","text":"","title":"/v2/history/get_deltas"},{"location":"api/#get_5","text":"","title":"GET"},{"location":"api/#summary_10","text":"get state deltas","title":"Summary:"},{"location":"api/#description_10","text":"get state deltas","title":"Description:"},{"location":"api/#parameters_5","text":"Name Located in Description Required Schema code query contract account No string scope query table scope No string table query table name No string payer query payer account No string","title":"Parameters"},{"location":"api/#responses_10","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#v2historyget_transacted_accounts","text":"","title":"/v2/history/get_transacted_accounts"},{"location":"api/#get_6","text":"","title":"GET"},{"location":"api/#summary_11","text":"get interactions based on transfers","title":"Summary:"},{"location":"api/#description_11","text":"get all account that interacted with the source account provided","title":"Description:"},{"location":"api/#parameters_6","text":"Name Located in Description Required Schema account query source account Yes string symbol query token symbol No string contract query token contract No string direction query search direction Yes string min query minimum value No number max query maximum value No number limit query query limit No number after query filter after specified date (ISO8601) or block number No string before query filter before specified date (ISO8601) or block number No string","title":"Parameters"},{"location":"api/#responses_11","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#v2historyget_transaction","text":"","title":"/v2/history/get_transaction"},{"location":"api/#get_7","text":"","title":"GET"},{"location":"api/#summary_12","text":"get transaction by id","title":"Summary:"},{"location":"api/#description_12","text":"get all actions belonging to the same transaction","title":"Description:"},{"location":"api/#parameters_7","text":"Name Located in Description Required Schema id query transaction id Yes string","title":"Parameters"},{"location":"api/#responses_12","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#v2historyget_transfers","text":"","title":"/v2/history/get_transfers"},{"location":"api/#get_8","text":"","title":"GET"},{"location":"api/#summary_13","text":"get token transfers","title":"Summary:"},{"location":"api/#description_13","text":"get token transfers utilizing the eosio.token standard","title":"Description:"},{"location":"api/#parameters_8","text":"Name Located in Description Required Schema from query source account No string to query destination account No string symbol query token symbol No string contract query token contract No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer after query filter after specified date (ISO8601) No dateTime before query filter before specified date (ISO8601) No dateTime","title":"Parameters"},{"location":"api/#responses_13","text":"Code Description 200","title":"Responses"},{"location":"api/#v2stateget_account","text":"","title":"/v2/state/get_account"},{"location":"api/#get_9","text":"","title":"GET"},{"location":"api/#summary_14","text":"get account summary","title":"Summary:"},{"location":"api/#description_14","text":"get account data","title":"Description:"},{"location":"api/#parameters_9","text":"Name Located in Description Required Schema account query account name No string","title":"Parameters"},{"location":"api/#responses_14","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#v2stateget_key_accounts","text":"","title":"/v2/state/get_key_accounts"},{"location":"api/#get_10","text":"","title":"GET"},{"location":"api/#summary_15","text":"get accounts by public key","title":"Summary:"},{"location":"api/#description_15","text":"get accounts by public key","title":"Description:"},{"location":"api/#parameters_10","text":"Name Located in Description Required Schema public_key query public key Yes string","title":"Parameters"},{"location":"api/#responses_15","text":"Code Description 200","title":"Responses"},{"location":"api/#post_5","text":"","title":"POST"},{"location":"api/#summary_16","text":"get accounts by public key","title":"Summary:"},{"location":"api/#description_16","text":"get accounts by public key","title":"Description:"},{"location":"api/#responses_16","text":"Code Description 200","title":"Responses"},{"location":"api/#v2stateget_proposals","text":"","title":"/v2/state/get_proposals"},{"location":"api/#get_11","text":"","title":"GET"},{"location":"api/#summary_17","text":"get proposals","title":"Summary:"},{"location":"api/#description_17","text":"get proposals","title":"Description:"},{"location":"api/#parameters_11","text":"Name Located in Description Required Schema proposer query filter by proposer No string proposal query filter by proposal name No string account query filter by either requested or provided account No string requested query filter by requested account No string provided query filter by provided account No string executed query filter by execution status No boolean track query total results to track (count) [number or true] No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer","title":"Parameters"},{"location":"api/#responses_17","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#v2stateget_tokens","text":"","title":"/v2/state/get_tokens"},{"location":"api/#get_12","text":"","title":"GET"},{"location":"api/#summary_18","text":"get tokens from account","title":"Summary:"},{"location":"api/#description_18","text":"get tokens from account","title":"Description:"},{"location":"api/#parameters_12","text":"Name Located in Description Required Schema account query account Yes string","title":"Parameters"},{"location":"api/#responses_18","text":"Code Description 200","title":"Responses"},{"location":"api/#v2stateget_voters","text":"","title":"/v2/state/get_voters"},{"location":"api/#get_13","text":"","title":"GET"},{"location":"api/#summary_19","text":"get voters","title":"Summary:"},{"location":"api/#description_19","text":"get voters","title":"Description:"},{"location":"api/#parameters_13","text":"Name Located in Description Required Schema producer query filter by voted producer (comma separated) No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer","title":"Parameters"},{"location":"api/#responses_19","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#v2health","text":"","title":"/v2/health"},{"location":"api/#get_14","text":"","title":"GET"},{"location":"api/#summary_20","text":"API Service Health Report","title":"Summary:"},{"location":"api/#responses_20","text":"Code Description 200 Default Response","title":"Responses"},{"location":"api/#stream-clientjs","text":"","title":"/stream-client.js"},{"location":"api/#get_15","text":"","title":"GET"},{"location":"api/#responses_21","text":"Code Description 200 default response","title":"Responses"},{"location":"data/","text":"Action Data Structure (work in progress) @timestamp - block time global_sequence - unique action global_sequence, used as index id parent - points to the parent action (in the case of an inline action) or equal to 0 if root level block_num - block number where the action was processed trx_id - transaction id producer - block producer act account - contract account name - contract method name authorization - array of signers actor - signing actor permission - signing permission data - action data input object account_ram_deltas - array of ram deltas and payers account delta notified - array of accounts that were notified (via inline action events)","title":"Data Structure"},{"location":"data/#action-data-structure-work-in-progress","text":"@timestamp - block time global_sequence - unique action global_sequence, used as index id parent - points to the parent action (in the case of an inline action) or equal to 0 if root level block_num - block number where the action was processed trx_id - transaction id producer - block producer act account - contract account name - contract method name authorization - array of signers actor - signing actor permission - signing permission data - action data input object account_ram_deltas - array of ram deltas and payers account delta notified - array of accounts that were notified (via inline action events)","title":"Action Data Structure (work in progress)"},{"location":"docker/","text":"Hyperion Docker Dependencies docker and docker-compose INSTALL Edit connections.json file and change http://host.docker.internal:8888 and ws://host.docker.internal:8080 for the nodeos address Change passwords in docker-compose.yml file Run docker-compose up Usage Kibana Access http://localhost:5601/ RabbitMQ Access http://127.0.0.1:15672/ Hyperion API Access http://127.0.0.1:7000/v2/history/get_actions or curl http://127.0.0.1:7000/v2/history/get_actions Troubleshooting If you're having problems accesing Kibana or using elasticsearch api, you could disable the xpack security on the docker-compose.yml setting it to false: xpack.security.enabled=false","title":"Docker"},{"location":"docker/#hyperion-docker","text":"","title":"Hyperion Docker"},{"location":"docker/#dependencies","text":"docker and docker-compose","title":"Dependencies"},{"location":"docker/#install","text":"Edit connections.json file and change http://host.docker.internal:8888 and ws://host.docker.internal:8080 for the nodeos address Change passwords in docker-compose.yml file Run docker-compose up","title":"INSTALL"},{"location":"docker/#usage","text":"","title":"Usage"},{"location":"docker/#kibana","text":"Access http://localhost:5601/","title":"Kibana"},{"location":"docker/#rabbitmq","text":"Access http://127.0.0.1:15672/","title":"RabbitMQ"},{"location":"docker/#hyperion-api","text":"Access http://127.0.0.1:7000/v2/history/get_actions or curl http://127.0.0.1:7000/v2/history/get_actions","title":"Hyperion API"},{"location":"docker/#troubleshooting","text":"If you're having problems accesing Kibana or using elasticsearch api, you could disable the xpack security on the docker-compose.yml setting it to false: xpack.security.enabled=false","title":"Troubleshooting"},{"location":"install/","text":"Getting Started Installation Dependencies This setup has only been tested with Ubuntu 18.04, but should work with other OS versions too Elasticsearch 7.4.X RabbitMQ Redis Node.js v12 PM2 Nodeos 1.8.4 w/ state_history_plugin and chain_api_plugin Note The indexer requires redis, pm2 and node.js to be on the same machine. Other dependencies might be installed on other machines, preferably over a very high speed and low latency network. Indexing speed will vary greatly depending on this configuration. Elasticsearch Installation Info Follow the detailed installation instructions on the official elasticsearch documentation 1. Edit /etc/elasticsearch/elasticsearch.yml cluster.name: myCluster bootstrap.memory_lock: true 2. Edit /etc/elasticsearch/jvm.options # Set your heap size, avoid allocating more than 31GB, even if you have enought RAM. # Test on your specific machine by changing -Xmx32g in the following command: # java -Xmx32g -XX:+UseCompressedOops -XX:+PrintFlagsFinal Oops | grep Oops -Xms16g -Xmx16g 3. Disable swap run swapoff -a this will immediately disable swap remove any swap entry from /etc/fstab Tip Identify configured swap devices and files with cat /proc/swaps 4. Allow memlock run sudo systemctl edit elasticsearch and add the following lines [Service] LimitMEMLOCK=infinity 5. Start elasticsearch and check the logs (verify if the memory lock was successful) sudo service elasticsearch start sudo less /var/log/elasticsearch/myCluster.log sudo systemctl enable elasticsearch 6. Test the REST API curl http://localhost:9200 { name : ip-172-31-5-121 , cluster_name : hyperion , cluster_uuid : .... , version : { number : 7.1.0 , build_flavor : default , build_type : deb , build_hash : 606a173 , build_date : 2019-05-16T00:43:15.323135Z , build_snapshot : false, lucene_version : 8.0.0 , minimum_wire_compatibility_version : 6.8.0 , minimum_index_compatibility_version : 6.0.0-beta1 }, tagline : You Know, for Search } The Default user and password is: user: elastic password: changeme You can change the password via the API, like this: curl -X POST localhost:9200/_security/user/elastic/_password?pretty -H 'Content-Type: application/json' -d' { password : new_password }' RabbitMQ Installation Info Follow the detailed installation instructions on the official RabbitMQ documentation 1. Enable the WebUI sudo rabbitmq-plugins enable rabbitmq_management 2. Add vhost sudo rabbitmqctl add_vhost /hyperion 2. Create a user and password sudo rabbitmqctl add_user {my_user} {my_password} 3. Set the user as administrator sudo rabbitmqctl set_user_tags {my_user} administrator 4. Set the user permissions to the vhost sudo rabbitmqctl set_permissions -p /hyperion {my_user} .* .* .* 5. Check access to the WebUI http://localhost:15672 Redis Installation 1. Install sudo apt install redis-server 2. Edit /etc/redis/redis.conf Note By default, redis binds to the localhost address. You need to edit the config file if you want to listen to other network. 3. Change supervised to systemd sudo systemctl restart redis.service NodeJS 1. Install the nodejs source curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash - 2. Install sudo apt-get install -y nodejs PM2 1. Install sudo npm install pm2@latest -g 2. Run sudo pm2 startup Kibana Installation Note Check for the latest version on the official website 1. Get the binary wget https://artifacts.elastic.co/downloads/kibana/kibana-7.4.0-amd64.deb 2. install sudo apt install ./kibana-7.4.0-amd64.deb 3. Change supervised to systemd sudo systemctl enable kibana 4. Open and test Kibana http://localhost:5601 nodeos config.ini state-history-dir = state-history trace-history = true chain-state-history = true state-history-endpoint = 127.0.0.1:8080 plugin = eosio::state_history_plugin Hyperion Indexer 1. Clone Install packages git clone https://github.com/eosrio/Hyperion-History-API.git cd Hyperion-History-API npm install 2. Edit configs cp example-ecosystem.config.js ecosystem.config.js nano ecosystem.config.js # Enter connection details here (chain name must match on the ecosystem file) cp example-connections.json connections.json nano connections.json connections.json Reference { amqp : { host : 127.0.0.1:5672 , // RabbitMQ Server api : 127.0.0.1:15672 , // RabbitMQ API Endpoint user : username , pass : password , vhost : hyperion // RabbitMQ vhost }, elasticsearch : { host : 127.0.0.1:9200 , // Elasticsearch HTTP API Endpoint ingest_nodes : [ hyperion-elastic:9200 ], user : elastic , pass : password }, redis : { host : 127.0.0.1 , port : 6379 }, chains : { eos : { // Chain name (must match on the ecosystem file) name : EOS Mainnet , chain_id : aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906 , http : http://127.0.0.1:8888 , // Nodeos Chain API Endpoint ship : ws://127.0.0.1:8080 , // Nodeos State History Endpoint WS_ROUTER_PORT : 7001 }, other_chain : {...} } } ecosystem.config.js Reference CHAIN: 'eos', // chain prefix for indexing ABI_CACHE_MODE: 'false', // only cache historical ABIs to redis DEBUG: 'false', // debug mode - display extra logs for debugging LIVE_READER: 'true', // enable continuous reading after reaching the head block FETCH_DELTAS: 'false', // read table deltas CREATE_INDICES: 'v1', // index suffix to be created, set to false to use existing aliases START_ON: 0, // start indexing on block (0=disable) STOP_ON: 0, // stop indexing on block (0=disable) AUTO_STOP: 0, // automatically stop Indexer after X seconds if no more blocks are being processed (0=disable) REWRITE: 'false', // force rewrite the target replay range PURGE_QUEUES: 'false', // clear rabbitmq queues before starting the indexer BATCH_SIZE: 2000, // parallel reader batch size in blocks QUEUE_THRESH: 8000, // queue size limit on rabbitmq LIVE_ONLY: 'false', // only reads realtime data serially FETCH_BLOCK: 'true', // Request full blocks from the state history plugin FETCH_TRACES: 'true', // Request traces from the state history plugin PREVIEW: 'false', // preview mode - prints worker map and exit DISABLE_READING: 'false', // completely disable block reading, for lagged queue processing READERS: 3, // parallel state history readers DESERIALIZERS: 4, // deserialization queues DS_MULT: 4, // deserialization threads per queue ES_IDX_QUEUES: 4, // elastic indexers per queue ES_AD_IDX_QUEUES: 2, // multiplier for action indexing queues READ_PREFETCH: 50, // Stage 1 prefecth size BLOCK_PREFETCH: 5, // Stage 2 prefecth size INDEX_PREFETCH: 500, // Stage 3 prefetch size ENABLE_INDEXING: 'true', // enable elasticsearch indexing INDEX_DELTAS: 'true', // index common table deltas (see delta on definitions/mappings) INDEX_ALL_DELTAS: 'false' // index all table deltas (WARNING) Setup Indices and Aliases Load templates first by starting the Hyperion Indexer in preview mode PREVIEW: 'true' Indices and aliases are created automatically using the CREATE_INDICES option (set it to your version suffix e.g, v1, v2, v3) If you want to create them manually, use the commands bellow on the kibana dev console PUT mainnet-action-v1-000001 PUT mainnet-abi-v1-000001 PUT mainnet-block-v1-000001 POST _aliases { actions : [ { add : { index : mainnet-abi-v1-000001 , alias : mainnet-abi } }, { add : { index : mainnet-action-v1-000001 , alias : mainnet-action } }, { add : { index : mainnet-block-v1-000001 , alias : mainnet-block } } ] } Before indexing actions into elasticsearch its required to do a ABI scan pass Start with ABI_CACHE_MODE: 'true', FETCH_BLOCK: 'false', FETCH_TRACES: 'false', INDEX_DELTAS: 'false', INDEX_ALL_DELTAS: 'false', When indexing is finished, change the settings back and restart the indexer. In case you do not have much contract updates, you do not need to run a full pass. Tune your configs to your specific hardware using the following settings: BATCH_SIZE READERS DESERIALIZERS DS_MULT ES_IDX_QUEUES ES_AD_IDX_QUEUES READ_PREFETCH BLOCK_PREFETCH INDEX_PREFETCH Start and Stop Start indexing pm2 start --only Indexer --update-env pm2 logs Indexer Stop reading and wait for queues to flush pm2 trigger Indexer stop Force stop pm2 stop Indexer Starting the API node pm2 start --only API --update-env pm2 logs API API Reference Documentation is automatically generated by Swagger/OpenAPI. Example: OpenAPI Docs","title":"Getting Started"},{"location":"install/#getting-started","text":"","title":"Getting Started"},{"location":"install/#installation","text":"","title":"Installation"},{"location":"install/#dependencies","text":"This setup has only been tested with Ubuntu 18.04, but should work with other OS versions too Elasticsearch 7.4.X RabbitMQ Redis Node.js v12 PM2 Nodeos 1.8.4 w/ state_history_plugin and chain_api_plugin Note The indexer requires redis, pm2 and node.js to be on the same machine. Other dependencies might be installed on other machines, preferably over a very high speed and low latency network. Indexing speed will vary greatly depending on this configuration.","title":"Dependencies"},{"location":"install/#elasticsearch-installation","text":"Info Follow the detailed installation instructions on the official elasticsearch documentation","title":"Elasticsearch Installation"},{"location":"install/#1-edit-etcelasticsearchelasticsearchyml","text":"cluster.name: myCluster bootstrap.memory_lock: true","title":"1. Edit /etc/elasticsearch/elasticsearch.yml"},{"location":"install/#2-edit-etcelasticsearchjvmoptions","text":"# Set your heap size, avoid allocating more than 31GB, even if you have enought RAM. # Test on your specific machine by changing -Xmx32g in the following command: # java -Xmx32g -XX:+UseCompressedOops -XX:+PrintFlagsFinal Oops | grep Oops -Xms16g -Xmx16g","title":"2. Edit /etc/elasticsearch/jvm.options"},{"location":"install/#3-disable-swap","text":"run swapoff -a this will immediately disable swap remove any swap entry from /etc/fstab Tip Identify configured swap devices and files with cat /proc/swaps","title":"3. Disable swap"},{"location":"install/#4-allow-memlock","text":"run sudo systemctl edit elasticsearch and add the following lines [Service] LimitMEMLOCK=infinity","title":"4. Allow memlock"},{"location":"install/#5-start-elasticsearch-and-check-the-logs-verify-if-the-memory-lock-was-successful","text":"sudo service elasticsearch start sudo less /var/log/elasticsearch/myCluster.log sudo systemctl enable elasticsearch","title":"5. Start elasticsearch and check the logs (verify if the memory lock was successful)"},{"location":"install/#6-test-the-rest-api","text":"curl http://localhost:9200 { name : ip-172-31-5-121 , cluster_name : hyperion , cluster_uuid : .... , version : { number : 7.1.0 , build_flavor : default , build_type : deb , build_hash : 606a173 , build_date : 2019-05-16T00:43:15.323135Z , build_snapshot : false, lucene_version : 8.0.0 , minimum_wire_compatibility_version : 6.8.0 , minimum_index_compatibility_version : 6.0.0-beta1 }, tagline : You Know, for Search } The Default user and password is: user: elastic password: changeme You can change the password via the API, like this: curl -X POST localhost:9200/_security/user/elastic/_password?pretty -H 'Content-Type: application/json' -d' { password : new_password }'","title":"6. Test the REST API"},{"location":"install/#rabbitmq-installation","text":"Info Follow the detailed installation instructions on the official RabbitMQ documentation","title":"RabbitMQ Installation"},{"location":"install/#1-enable-the-webui","text":"sudo rabbitmq-plugins enable rabbitmq_management","title":"1. Enable the WebUI"},{"location":"install/#2-add-vhost","text":"sudo rabbitmqctl add_vhost /hyperion","title":"2. Add vhost"},{"location":"install/#2-create-a-user-and-password","text":"sudo rabbitmqctl add_user {my_user} {my_password}","title":"2. Create a user and password"},{"location":"install/#3-set-the-user-as-administrator","text":"sudo rabbitmqctl set_user_tags {my_user} administrator","title":"3. Set the user as administrator"},{"location":"install/#4-set-the-user-permissions-to-the-vhost","text":"sudo rabbitmqctl set_permissions -p /hyperion {my_user} .* .* .*","title":"4. Set the user permissions to the vhost"},{"location":"install/#5-check-access-to-the-webui","text":"http://localhost:15672","title":"5. Check access to the WebUI"},{"location":"install/#redis-installation","text":"","title":"Redis Installation"},{"location":"install/#1-install","text":"sudo apt install redis-server","title":"1. Install"},{"location":"install/#2-edit-etcredisredisconf","text":"Note By default, redis binds to the localhost address. You need to edit the config file if you want to listen to other network.","title":"2. Edit /etc/redis/redis.conf"},{"location":"install/#3-change-supervised-to-systemd","text":"sudo systemctl restart redis.service","title":"3. Change supervised to systemd"},{"location":"install/#nodejs","text":"","title":"NodeJS"},{"location":"install/#1-install-the-nodejs-source","text":"curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -","title":"1. Install the nodejs source"},{"location":"install/#2-install","text":"sudo apt-get install -y nodejs","title":"2. Install"},{"location":"install/#pm2","text":"","title":"PM2"},{"location":"install/#1-install_1","text":"sudo npm install pm2@latest -g","title":"1. Install"},{"location":"install/#2-run","text":"sudo pm2 startup","title":"2. Run"},{"location":"install/#kibana-installation","text":"Note Check for the latest version on the official website","title":"Kibana Installation"},{"location":"install/#1-get-the-binary","text":"wget https://artifacts.elastic.co/downloads/kibana/kibana-7.4.0-amd64.deb","title":"1. Get the binary"},{"location":"install/#2-install_1","text":"sudo apt install ./kibana-7.4.0-amd64.deb","title":"2. install"},{"location":"install/#3-change-supervised-to-systemd_1","text":"sudo systemctl enable kibana","title":"3. Change supervised to systemd"},{"location":"install/#4-open-and-test-kibana","text":"http://localhost:5601","title":"4. Open and test Kibana"},{"location":"install/#nodeos-configini","text":"state-history-dir = state-history trace-history = true chain-state-history = true state-history-endpoint = 127.0.0.1:8080 plugin = eosio::state_history_plugin","title":"nodeos config.ini"},{"location":"install/#hyperion-indexer","text":"","title":"Hyperion Indexer"},{"location":"install/#1-clone-install-packages","text":"git clone https://github.com/eosrio/Hyperion-History-API.git cd Hyperion-History-API npm install","title":"1. Clone &amp; Install packages"},{"location":"install/#2-edit-configs","text":"cp example-ecosystem.config.js ecosystem.config.js nano ecosystem.config.js # Enter connection details here (chain name must match on the ecosystem file) cp example-connections.json connections.json nano connections.json connections.json Reference { amqp : { host : 127.0.0.1:5672 , // RabbitMQ Server api : 127.0.0.1:15672 , // RabbitMQ API Endpoint user : username , pass : password , vhost : hyperion // RabbitMQ vhost }, elasticsearch : { host : 127.0.0.1:9200 , // Elasticsearch HTTP API Endpoint ingest_nodes : [ hyperion-elastic:9200 ], user : elastic , pass : password }, redis : { host : 127.0.0.1 , port : 6379 }, chains : { eos : { // Chain name (must match on the ecosystem file) name : EOS Mainnet , chain_id : aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906 , http : http://127.0.0.1:8888 , // Nodeos Chain API Endpoint ship : ws://127.0.0.1:8080 , // Nodeos State History Endpoint WS_ROUTER_PORT : 7001 }, other_chain : {...} } } ecosystem.config.js Reference CHAIN: 'eos', // chain prefix for indexing ABI_CACHE_MODE: 'false', // only cache historical ABIs to redis DEBUG: 'false', // debug mode - display extra logs for debugging LIVE_READER: 'true', // enable continuous reading after reaching the head block FETCH_DELTAS: 'false', // read table deltas CREATE_INDICES: 'v1', // index suffix to be created, set to false to use existing aliases START_ON: 0, // start indexing on block (0=disable) STOP_ON: 0, // stop indexing on block (0=disable) AUTO_STOP: 0, // automatically stop Indexer after X seconds if no more blocks are being processed (0=disable) REWRITE: 'false', // force rewrite the target replay range PURGE_QUEUES: 'false', // clear rabbitmq queues before starting the indexer BATCH_SIZE: 2000, // parallel reader batch size in blocks QUEUE_THRESH: 8000, // queue size limit on rabbitmq LIVE_ONLY: 'false', // only reads realtime data serially FETCH_BLOCK: 'true', // Request full blocks from the state history plugin FETCH_TRACES: 'true', // Request traces from the state history plugin PREVIEW: 'false', // preview mode - prints worker map and exit DISABLE_READING: 'false', // completely disable block reading, for lagged queue processing READERS: 3, // parallel state history readers DESERIALIZERS: 4, // deserialization queues DS_MULT: 4, // deserialization threads per queue ES_IDX_QUEUES: 4, // elastic indexers per queue ES_AD_IDX_QUEUES: 2, // multiplier for action indexing queues READ_PREFETCH: 50, // Stage 1 prefecth size BLOCK_PREFETCH: 5, // Stage 2 prefecth size INDEX_PREFETCH: 500, // Stage 3 prefetch size ENABLE_INDEXING: 'true', // enable elasticsearch indexing INDEX_DELTAS: 'true', // index common table deltas (see delta on definitions/mappings) INDEX_ALL_DELTAS: 'false' // index all table deltas (WARNING)","title":"2. Edit configs"},{"location":"install/#setup-indices-and-aliases","text":"Load templates first by starting the Hyperion Indexer in preview mode PREVIEW: 'true' Indices and aliases are created automatically using the CREATE_INDICES option (set it to your version suffix e.g, v1, v2, v3) If you want to create them manually, use the commands bellow on the kibana dev console PUT mainnet-action-v1-000001 PUT mainnet-abi-v1-000001 PUT mainnet-block-v1-000001 POST _aliases { actions : [ { add : { index : mainnet-abi-v1-000001 , alias : mainnet-abi } }, { add : { index : mainnet-action-v1-000001 , alias : mainnet-action } }, { add : { index : mainnet-block-v1-000001 , alias : mainnet-block } } ] } Before indexing actions into elasticsearch its required to do a ABI scan pass Start with ABI_CACHE_MODE: 'true', FETCH_BLOCK: 'false', FETCH_TRACES: 'false', INDEX_DELTAS: 'false', INDEX_ALL_DELTAS: 'false', When indexing is finished, change the settings back and restart the indexer. In case you do not have much contract updates, you do not need to run a full pass. Tune your configs to your specific hardware using the following settings: BATCH_SIZE READERS DESERIALIZERS DS_MULT ES_IDX_QUEUES ES_AD_IDX_QUEUES READ_PREFETCH BLOCK_PREFETCH INDEX_PREFETCH","title":"Setup Indices and Aliases"},{"location":"install/#start-and-stop","text":"Start indexing pm2 start --only Indexer --update-env pm2 logs Indexer Stop reading and wait for queues to flush pm2 trigger Indexer stop Force stop pm2 stop Indexer Starting the API node pm2 start --only API --update-env pm2 logs API","title":"Start and Stop"},{"location":"install/#api-reference","text":"Documentation is automatically generated by Swagger/OpenAPI. Example: OpenAPI Docs","title":"API Reference"},{"location":"kibana/","text":"The purpose here is to guide you through some basic steps using and configuring the Kibana. For more detailed information, please, refer to the official documentation . Running Kibana with systemd To configure Kibana to start automatically when the system boots up, run the following commands: sudo /bin/systemctl daemon-reload sudo /bin/systemctl enable kibana.service Kibana can be started and stopped as follows: sudo systemctl start kibana.service sudo systemctl stop kibana.service These commands provide no feedback as to whether Kibana was started successfully or not. Log information can be accessed via journalctl -u kibana.service. Opening Kibana Open http://localhost:5601 and check if you can access Kibana. If Kibana asks for credentials, the default user and password is: user: elastic password: changeme If you can't access, check your credentials on your config file. Creating index pattern To create a new index pattern, go to Management Click on Index Patterns at the left menu Click on Create index pattern Enter desired index pattern and click on Next step Tip Index Pattern List: eos-abi-* eos-action-* eos-block-* eos-logs-* eos-delta-* Where eos is the name of the chain. Select a time filter, if there are any, and click on Create index pattern Index Management Discover","title":"Kibana"},{"location":"kibana/#running-kibana-with-systemd","text":"To configure Kibana to start automatically when the system boots up, run the following commands: sudo /bin/systemctl daemon-reload sudo /bin/systemctl enable kibana.service Kibana can be started and stopped as follows: sudo systemctl start kibana.service sudo systemctl stop kibana.service These commands provide no feedback as to whether Kibana was started successfully or not. Log information can be accessed via journalctl -u kibana.service.","title":"Running Kibana with systemd"},{"location":"kibana/#opening-kibana","text":"Open http://localhost:5601 and check if you can access Kibana. If Kibana asks for credentials, the default user and password is: user: elastic password: changeme If you can't access, check your credentials on your config file.","title":"Opening Kibana"},{"location":"kibana/#creating-index-pattern","text":"To create a new index pattern, go to Management Click on Index Patterns at the left menu Click on Create index pattern Enter desired index pattern and click on Next step Tip Index Pattern List: eos-abi-* eos-action-* eos-block-* eos-logs-* eos-delta-* Where eos is the name of the chain. Select a time filter, if there are any, and click on Create index pattern","title":"Creating index pattern"},{"location":"kibana/#index-management","text":"","title":"Index Management"},{"location":"kibana/#discover","text":"","title":"Discover"},{"location":"openapi-2/","text":"Hyperion History API for EOS Mainnet Scalable Full History API Solution for EOSIO based blockchains Made with \u2665\ufe0f by EOS Rio Current Chain: EOS Mainnet Provided by EOS Rio Health API: https://eos.hyperion.eosrio.io/v2/health Integrated Explorer: https://eos.hyperion.eosrio.io/v2/explore Version: 2.5.0 /v1/history/get_actions POST Summary: get actions Description: legacy get actions query Responses Code Description 200 legacy get actions query /v1/history/get_controlled_accounts POST Summary: get controlled accounts by controlling accounts Description: get controlled accounts by controlling accounts Responses Code Description 200 get controlled accounts by controlling accounts /v1/history/get_key_accounts POST Summary: get accounts by public key Description: get accounts by public key Responses Code Description 200 get accounts by public key /v1/history/get_transaction POST Summary: get transaction by id Description: get all actions belonging to the same transaction Responses Code Description 200 Default Response /v1/chain/get_block POST Summary: Returns an object containing various details about a specific block on the blockchain. Description: Returns an object containing various details about a specific block on the blockchain. Responses Code Description 200 Default Response /v2/history/get_abi_snapshot GET Summary: fetch abi at specific block Description: fetch contract abi at specific block Parameters Name Located in Description Required Schema contract query contract account Yes string block query target block No integer fetch query should fetch the ABI No boolean Responses Code Description 200 Default Response /v2/history/get_actions GET Summary: get root actions Description: get actions based on notified account. this endpoint also accepts generic filters based on indexed fields (e.g. act.authorization.actor=eosio or act.name=delegatebw), if included they will be combined with a AND operator Parameters Name Located in Description Required Schema account query notified account No string track query total results to track (count) [number or true] No string filter query code:name filter No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer sort query sort direction No string after query filter after specified date (ISO8601) No string before query filter before specified date (ISO8601) No string simple query simplified output mode No boolean Responses Code Description 200 get actions based on notified account. this endpoint also accepts generic filters based on indexed fields (e.g. act.authorization.actor=eosio or act.name=delegatebw), if included they will be combined with a AND operator /v2/history/get_blocks GET Summary: get block range Description: get block range Parameters Name Located in Description Required Schema from query starting block No integer to query last block No integer Responses Code Description 200 Default Response /v2/history/get_created_accounts GET Summary: get created accounts Description: get all accounts created by one creator Parameters Name Located in Description Required Schema account query creator account No string Responses Code Description 200 get all accounts created by one creator /v2/history/get_creator GET Summary: get account creator Description: get account creator Parameters Name Located in Description Required Schema account query created account No string Responses Code Description 200 get account creator /v2/history/get_deltas GET Summary: get state deltas Description: get state deltas Parameters Name Located in Description Required Schema code query contract account No string scope query table scope No string table query table name No string payer query payer account No string Responses Code Description 200 Default Response /v2/history/get_transacted_accounts GET Summary: get interactions based on transfers Description: get all account that interacted with the source account provided Parameters Name Located in Description Required Schema account query source account Yes string symbol query token symbol No string contract query token contract No string direction query search direction Yes string min query minimum value No number max query maximum value No number limit query query limit No number after query filter after specified date (ISO8601) or block number No string before query filter before specified date (ISO8601) or block number No string Responses Code Description 200 Default Response /v2/history/get_transaction GET Summary: get transaction by id Description: get all actions belonging to the same transaction Parameters Name Located in Description Required Schema id query transaction id Yes string Responses Code Description 200 Default Response /v2/history/get_transfers GET Summary: get token transfers Description: get token transfers utilizing the eosio.token standard Parameters Name Located in Description Required Schema from query source account No string to query destination account No string symbol query token symbol No string contract query token contract No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer after query filter after specified date (ISO8601) No dateTime before query filter before specified date (ISO8601) No dateTime Responses Code Description 200 get token transfers utilizing the eosio.token standard /v2/state/get_account GET Summary: get account summary Description: get account data Parameters Name Located in Description Required Schema account query account name No string Responses Code Description 200 Default Response /v2/state/get_key_accounts GET Summary: get accounts by public key Description: get accounts by public key Parameters Name Located in Description Required Schema public_key query public key Yes string Responses Code Description 200 get accounts by public key POST Summary: get accounts by public key Description: get accounts by public key Responses Code Description 200 get accounts by public key /v2/state/get_proposals GET Summary: get proposals Description: get proposals Parameters Name Located in Description Required Schema proposer query filter by proposer No string proposal query filter by proposal name No string account query filter by either requested or provided account No string requested query filter by requested account No string provided query filter by provided account No string executed query filter by execution status No boolean track query total results to track (count) [number or true] No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer Responses Code Description 200 Default Response /v2/state/get_tokens GET Summary: get tokens from account Description: get tokens from account Parameters Name Located in Description Required Schema account query account Yes string Responses Code Description 200 get tokens from account /v2/state/get_voters GET Summary: get voters Description: get voters Parameters Name Located in Description Required Schema producer query filter by voted producer (comma separated) No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer Responses Code Description 200 Default Response /v2/health GET Summary: API Service Health Report Responses Code Description 200 Default Response /stream-client.js GET Responses Code Description 200 default response","title":"Hyperion History API for EOS Mainnet"},{"location":"openapi-2/#hyperion-history-api-for-eos-mainnet","text":"","title":"Hyperion History API for EOS Mainnet"},{"location":"openapi-2/#scalable-full-history-api-solution-for-eosio-based-blockchains","text":"Made with \u2665\ufe0f by EOS Rio","title":"Scalable Full History API Solution for EOSIO based blockchains"},{"location":"openapi-2/#current-chain-eos-mainnet","text":"","title":"Current Chain: EOS Mainnet "},{"location":"openapi-2/#provided-by-eos-rio","text":"","title":"Provided by EOS Rio"},{"location":"openapi-2/#health-api-httpseoshyperioneosrioiov2health","text":"","title":"Health API: https://eos.hyperion.eosrio.io/v2/health"},{"location":"openapi-2/#integrated-explorer-httpseoshyperioneosrioiov2explore","text":"","title":"Integrated Explorer: https://eos.hyperion.eosrio.io/v2/explore"},{"location":"openapi-2/#version-250","text":"","title":"Version: 2.5.0"},{"location":"openapi-2/#v1historyget_actions","text":"","title":"/v1/history/get_actions"},{"location":"openapi-2/#post","text":"","title":"POST"},{"location":"openapi-2/#summary","text":"get actions","title":"Summary:"},{"location":"openapi-2/#description","text":"legacy get actions query","title":"Description:"},{"location":"openapi-2/#responses","text":"Code Description 200 legacy get actions query","title":"Responses"},{"location":"openapi-2/#v1historyget_controlled_accounts","text":"","title":"/v1/history/get_controlled_accounts"},{"location":"openapi-2/#post_1","text":"","title":"POST"},{"location":"openapi-2/#summary_1","text":"get controlled accounts by controlling accounts","title":"Summary:"},{"location":"openapi-2/#description_1","text":"get controlled accounts by controlling accounts","title":"Description:"},{"location":"openapi-2/#responses_1","text":"Code Description 200 get controlled accounts by controlling accounts","title":"Responses"},{"location":"openapi-2/#v1historyget_key_accounts","text":"","title":"/v1/history/get_key_accounts"},{"location":"openapi-2/#post_2","text":"","title":"POST"},{"location":"openapi-2/#summary_2","text":"get accounts by public key","title":"Summary:"},{"location":"openapi-2/#description_2","text":"get accounts by public key","title":"Description:"},{"location":"openapi-2/#responses_2","text":"Code Description 200 get accounts by public key","title":"Responses"},{"location":"openapi-2/#v1historyget_transaction","text":"","title":"/v1/history/get_transaction"},{"location":"openapi-2/#post_3","text":"","title":"POST"},{"location":"openapi-2/#summary_3","text":"get transaction by id","title":"Summary:"},{"location":"openapi-2/#description_3","text":"get all actions belonging to the same transaction","title":"Description:"},{"location":"openapi-2/#responses_3","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#v1chainget_block","text":"","title":"/v1/chain/get_block"},{"location":"openapi-2/#post_4","text":"","title":"POST"},{"location":"openapi-2/#summary_4","text":"Returns an object containing various details about a specific block on the blockchain.","title":"Summary:"},{"location":"openapi-2/#description_4","text":"Returns an object containing various details about a specific block on the blockchain.","title":"Description:"},{"location":"openapi-2/#responses_4","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#v2historyget_abi_snapshot","text":"","title":"/v2/history/get_abi_snapshot"},{"location":"openapi-2/#get","text":"","title":"GET"},{"location":"openapi-2/#summary_5","text":"fetch abi at specific block","title":"Summary:"},{"location":"openapi-2/#description_5","text":"fetch contract abi at specific block","title":"Description:"},{"location":"openapi-2/#parameters","text":"Name Located in Description Required Schema contract query contract account Yes string block query target block No integer fetch query should fetch the ABI No boolean","title":"Parameters"},{"location":"openapi-2/#responses_5","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#v2historyget_actions","text":"","title":"/v2/history/get_actions"},{"location":"openapi-2/#get_1","text":"","title":"GET"},{"location":"openapi-2/#summary_6","text":"get root actions","title":"Summary:"},{"location":"openapi-2/#description_6","text":"get actions based on notified account. this endpoint also accepts generic filters based on indexed fields (e.g. act.authorization.actor=eosio or act.name=delegatebw), if included they will be combined with a AND operator","title":"Description:"},{"location":"openapi-2/#parameters_1","text":"Name Located in Description Required Schema account query notified account No string track query total results to track (count) [number or true] No string filter query code:name filter No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer sort query sort direction No string after query filter after specified date (ISO8601) No string before query filter before specified date (ISO8601) No string simple query simplified output mode No boolean","title":"Parameters"},{"location":"openapi-2/#responses_6","text":"Code Description 200 get actions based on notified account. this endpoint also accepts generic filters based on indexed fields (e.g. act.authorization.actor=eosio or act.name=delegatebw), if included they will be combined with a AND operator","title":"Responses"},{"location":"openapi-2/#v2historyget_blocks","text":"","title":"/v2/history/get_blocks"},{"location":"openapi-2/#get_2","text":"","title":"GET"},{"location":"openapi-2/#summary_7","text":"get block range","title":"Summary:"},{"location":"openapi-2/#description_7","text":"get block range","title":"Description:"},{"location":"openapi-2/#parameters_2","text":"Name Located in Description Required Schema from query starting block No integer to query last block No integer","title":"Parameters"},{"location":"openapi-2/#responses_7","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#v2historyget_created_accounts","text":"","title":"/v2/history/get_created_accounts"},{"location":"openapi-2/#get_3","text":"","title":"GET"},{"location":"openapi-2/#summary_8","text":"get created accounts","title":"Summary:"},{"location":"openapi-2/#description_8","text":"get all accounts created by one creator","title":"Description:"},{"location":"openapi-2/#parameters_3","text":"Name Located in Description Required Schema account query creator account No string","title":"Parameters"},{"location":"openapi-2/#responses_8","text":"Code Description 200 get all accounts created by one creator","title":"Responses"},{"location":"openapi-2/#v2historyget_creator","text":"","title":"/v2/history/get_creator"},{"location":"openapi-2/#get_4","text":"","title":"GET"},{"location":"openapi-2/#summary_9","text":"get account creator","title":"Summary:"},{"location":"openapi-2/#description_9","text":"get account creator","title":"Description:"},{"location":"openapi-2/#parameters_4","text":"Name Located in Description Required Schema account query created account No string","title":"Parameters"},{"location":"openapi-2/#responses_9","text":"Code Description 200 get account creator","title":"Responses"},{"location":"openapi-2/#v2historyget_deltas","text":"","title":"/v2/history/get_deltas"},{"location":"openapi-2/#get_5","text":"","title":"GET"},{"location":"openapi-2/#summary_10","text":"get state deltas","title":"Summary:"},{"location":"openapi-2/#description_10","text":"get state deltas","title":"Description:"},{"location":"openapi-2/#parameters_5","text":"Name Located in Description Required Schema code query contract account No string scope query table scope No string table query table name No string payer query payer account No string","title":"Parameters"},{"location":"openapi-2/#responses_10","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#v2historyget_transacted_accounts","text":"","title":"/v2/history/get_transacted_accounts"},{"location":"openapi-2/#get_6","text":"","title":"GET"},{"location":"openapi-2/#summary_11","text":"get interactions based on transfers","title":"Summary:"},{"location":"openapi-2/#description_11","text":"get all account that interacted with the source account provided","title":"Description:"},{"location":"openapi-2/#parameters_6","text":"Name Located in Description Required Schema account query source account Yes string symbol query token symbol No string contract query token contract No string direction query search direction Yes string min query minimum value No number max query maximum value No number limit query query limit No number after query filter after specified date (ISO8601) or block number No string before query filter before specified date (ISO8601) or block number No string","title":"Parameters"},{"location":"openapi-2/#responses_11","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#v2historyget_transaction","text":"","title":"/v2/history/get_transaction"},{"location":"openapi-2/#get_7","text":"","title":"GET"},{"location":"openapi-2/#summary_12","text":"get transaction by id","title":"Summary:"},{"location":"openapi-2/#description_12","text":"get all actions belonging to the same transaction","title":"Description:"},{"location":"openapi-2/#parameters_7","text":"Name Located in Description Required Schema id query transaction id Yes string","title":"Parameters"},{"location":"openapi-2/#responses_12","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#v2historyget_transfers","text":"","title":"/v2/history/get_transfers"},{"location":"openapi-2/#get_8","text":"","title":"GET"},{"location":"openapi-2/#summary_13","text":"get token transfers","title":"Summary:"},{"location":"openapi-2/#description_13","text":"get token transfers utilizing the eosio.token standard","title":"Description:"},{"location":"openapi-2/#parameters_8","text":"Name Located in Description Required Schema from query source account No string to query destination account No string symbol query token symbol No string contract query token contract No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer after query filter after specified date (ISO8601) No dateTime before query filter before specified date (ISO8601) No dateTime","title":"Parameters"},{"location":"openapi-2/#responses_13","text":"Code Description 200 get token transfers utilizing the eosio.token standard","title":"Responses"},{"location":"openapi-2/#v2stateget_account","text":"","title":"/v2/state/get_account"},{"location":"openapi-2/#get_9","text":"","title":"GET"},{"location":"openapi-2/#summary_14","text":"get account summary","title":"Summary:"},{"location":"openapi-2/#description_14","text":"get account data","title":"Description:"},{"location":"openapi-2/#parameters_9","text":"Name Located in Description Required Schema account query account name No string","title":"Parameters"},{"location":"openapi-2/#responses_14","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#v2stateget_key_accounts","text":"","title":"/v2/state/get_key_accounts"},{"location":"openapi-2/#get_10","text":"","title":"GET"},{"location":"openapi-2/#summary_15","text":"get accounts by public key","title":"Summary:"},{"location":"openapi-2/#description_15","text":"get accounts by public key","title":"Description:"},{"location":"openapi-2/#parameters_10","text":"Name Located in Description Required Schema public_key query public key Yes string","title":"Parameters"},{"location":"openapi-2/#responses_15","text":"Code Description 200 get accounts by public key","title":"Responses"},{"location":"openapi-2/#post_5","text":"","title":"POST"},{"location":"openapi-2/#summary_16","text":"get accounts by public key","title":"Summary:"},{"location":"openapi-2/#description_16","text":"get accounts by public key","title":"Description:"},{"location":"openapi-2/#responses_16","text":"Code Description 200 get accounts by public key","title":"Responses"},{"location":"openapi-2/#v2stateget_proposals","text":"","title":"/v2/state/get_proposals"},{"location":"openapi-2/#get_11","text":"","title":"GET"},{"location":"openapi-2/#summary_17","text":"get proposals","title":"Summary:"},{"location":"openapi-2/#description_17","text":"get proposals","title":"Description:"},{"location":"openapi-2/#parameters_11","text":"Name Located in Description Required Schema proposer query filter by proposer No string proposal query filter by proposal name No string account query filter by either requested or provided account No string requested query filter by requested account No string provided query filter by provided account No string executed query filter by execution status No boolean track query total results to track (count) [number or true] No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer","title":"Parameters"},{"location":"openapi-2/#responses_17","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#v2stateget_tokens","text":"","title":"/v2/state/get_tokens"},{"location":"openapi-2/#get_12","text":"","title":"GET"},{"location":"openapi-2/#summary_18","text":"get tokens from account","title":"Summary:"},{"location":"openapi-2/#description_18","text":"get tokens from account","title":"Description:"},{"location":"openapi-2/#parameters_12","text":"Name Located in Description Required Schema account query account Yes string","title":"Parameters"},{"location":"openapi-2/#responses_18","text":"Code Description 200 get tokens from account","title":"Responses"},{"location":"openapi-2/#v2stateget_voters","text":"","title":"/v2/state/get_voters"},{"location":"openapi-2/#get_13","text":"","title":"GET"},{"location":"openapi-2/#summary_19","text":"get voters","title":"Summary:"},{"location":"openapi-2/#description_19","text":"get voters","title":"Description:"},{"location":"openapi-2/#parameters_13","text":"Name Located in Description Required Schema producer query filter by voted producer (comma separated) No string skip query skip [n] actions (pagination) No integer limit query limit of [n] actions per page No integer","title":"Parameters"},{"location":"openapi-2/#responses_19","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#v2health","text":"","title":"/v2/health"},{"location":"openapi-2/#get_14","text":"","title":"GET"},{"location":"openapi-2/#summary_20","text":"API Service Health Report","title":"Summary:"},{"location":"openapi-2/#responses_20","text":"Code Description 200 Default Response","title":"Responses"},{"location":"openapi-2/#stream-clientjs","text":"","title":"/stream-client.js"},{"location":"openapi-2/#get_15","text":"","title":"GET"},{"location":"openapi-2/#responses_21","text":"Code Description 200 default response","title":"Responses"},{"location":"roadmap/","text":"Roadmap Table deltas storage queries (in progress) Real-time streaming support (in progress) Plugin system (in progress) Control GUI","title":"Roadmap"},{"location":"roadmap/#roadmap","text":"Table deltas storage queries (in progress) Real-time streaming support (in progress) Plugin system (in progress) Control GUI","title":"Roadmap"},{"location":"stream_client/","text":"Hyperion Stream Client Live Streaming client for Hyperion History API Instalation Clone this repository Run npm install Configure the client Run the client Configuration 1. Connection Setup the endpoint that you want to fetch data const client = new Hyperion({endpoint}}, { async: false }); {Explain async!!!} Example: const client = new Hyperion('https://daobet.eosrio.io'}, { async: false }); When you successfully connects to the hyperion, you'll receive a handshake message: { event: 'handshake', chain: '{chain_name}' } 2. Stream Data Structure Setup the data structure to be streamed contract - contract account action - action name account - account name start_from - start reading on block (0=disable) read_until - stop reading on block (0=disable) filters - actions filter (more details below) Example: client.streamActions({ contract: 'eosio.token', action: 'transfer', account: 'eosriobrazil', start_from: 1, read_until: 0, filters: [], }); 2. Filters You can setup filters to refine your stream. For example, to filter the stream above for every transfers made to eosriobrazil account: client.streamActions({ contract: 'eosio.token', action: 'transfer', account: 'eosriobrazil', start_from: 1, read_until: 0, filters: [ {field: '@transfer.to', value: 'eosriobrazil'} ], }); To refine even more your stream, you could add more filters. Remember that adding more filters will result in a AND operation, by now it's not possible to make OR operations with filters. Example: client.streamActions({ contract: 'eosio.token', action: 'transfer', account: 'eosriobrazil', start_from: 1, read_until: 0, filters: [ {field: '@transfer.from', value: 'eosio'} {field: '@transfer.to', value: 'eosriobrazil'} ], }); 3. Handling Data To handle data from queues, client.onData = async (data, ack) = { {code here} } Example: client.onData = async (data, ack) = { const act = data['act']; console.log(`\\n---- ACTION - ${data['global_sequence']} | BLOCK: ${data['block_num']} | ${act.account}::${act.name}`); for (const key in act.data) { if (act.data.hasOwnProperty(key)) { console.log(`${key} = ${act.data[key]}`); } }","title":"Stream Client"},{"location":"stream_client/#hyperion-stream-client","text":"Live Streaming client for Hyperion History API","title":"Hyperion Stream Client"},{"location":"stream_client/#instalation","text":"Clone this repository Run npm install Configure the client Run the client","title":"Instalation"},{"location":"stream_client/#configuration","text":"","title":"Configuration"},{"location":"stream_client/#1-connection","text":"Setup the endpoint that you want to fetch data const client = new Hyperion({endpoint}}, { async: false }); {Explain async!!!} Example: const client = new Hyperion('https://daobet.eosrio.io'}, { async: false }); When you successfully connects to the hyperion, you'll receive a handshake message: { event: 'handshake', chain: '{chain_name}' }","title":"1. Connection"},{"location":"stream_client/#2-stream-data-structure","text":"Setup the data structure to be streamed contract - contract account action - action name account - account name start_from - start reading on block (0=disable) read_until - stop reading on block (0=disable) filters - actions filter (more details below) Example: client.streamActions({ contract: 'eosio.token', action: 'transfer', account: 'eosriobrazil', start_from: 1, read_until: 0, filters: [], });","title":"2. Stream Data Structure"},{"location":"stream_client/#2-filters","text":"You can setup filters to refine your stream. For example, to filter the stream above for every transfers made to eosriobrazil account: client.streamActions({ contract: 'eosio.token', action: 'transfer', account: 'eosriobrazil', start_from: 1, read_until: 0, filters: [ {field: '@transfer.to', value: 'eosriobrazil'} ], }); To refine even more your stream, you could add more filters. Remember that adding more filters will result in a AND operation, by now it's not possible to make OR operations with filters. Example: client.streamActions({ contract: 'eosio.token', action: 'transfer', account: 'eosriobrazil', start_from: 1, read_until: 0, filters: [ {field: '@transfer.from', value: 'eosio'} {field: '@transfer.to', value: 'eosriobrazil'} ], });","title":"2. Filters"},{"location":"stream_client/#3-handling-data","text":"To handle data from queues, client.onData = async (data, ack) = { {code here} } Example: client.onData = async (data, ack) = { const act = data['act']; console.log(`\\n---- ACTION - ${data['global_sequence']} | BLOCK: ${data['block_num']} | ${act.account}::${act.name}`); for (const key in act.data) { if (act.data.hasOwnProperty(key)) { console.log(`${key} = ${act.data[key]}`); } }","title":"3. Handling Data"},{"location":"system_req/","text":"Minimum Required Specifications OS: Windows 7/8.1/10 \u2013 64-Bit CPU: AMD Phenom II X4 965, Intel Core i3-2100, or equivalent Memory: 8GB Graphics Card: AMD Radeon HD 7850 2GB, NVIDIA GTX 660 2GB, or equivalent Hard Drive: At least 50 GB of free space Online Connection Requirements: 512kbps minimum internet speed. Internet Connection required to install and play. Recommended Specifications OS: Windows 10 \u2013 64-Bit CPU: AMD Athlon X4 870K, Intel i3 6300T or equivalent Memory: 8GB Graphics Card: AMD Radeon R9 270X, NVIDIA GeForce GTX 670, or equivalent Hard Drive: At least 50 GB of free space Online Connection Requirements: Broadband connection recommended. Internet Connection required to install and play.","title":"System Requirements"},{"location":"system_req/#minimum-required-specifications","text":"OS: Windows 7/8.1/10 \u2013 64-Bit CPU: AMD Phenom II X4 965, Intel Core i3-2100, or equivalent Memory: 8GB Graphics Card: AMD Radeon HD 7850 2GB, NVIDIA GTX 660 2GB, or equivalent Hard Drive: At least 50 GB of free space Online Connection Requirements: 512kbps minimum internet speed. Internet Connection required to install and play.","title":"Minimum Required Specifications"},{"location":"system_req/#recommended-specifications","text":"OS: Windows 10 \u2013 64-Bit CPU: AMD Athlon X4 870K, Intel i3 6300T or equivalent Memory: 8GB Graphics Card: AMD Radeon R9 270X, NVIDIA GeForce GTX 670, or equivalent Hard Drive: At least 50 GB of free space Online Connection Requirements: Broadband connection recommended. Internet Connection required to install and play.","title":"Recommended Specifications"}]}